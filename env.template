# ============================================================
# CONTENTSTACK CONFIGURATION TEMPLATE
# ============================================================
# Copy this file to .env.local and fill in your values

# Stack API Key (required for both Management and Delivery APIs)
NEXT_PUBLIC_CONTENTSTACK_API_KEY=your_api_key_here

# Delivery Token (required for fetching published content)
# Get from: Contentstack → Settings → Tokens → Delivery Tokens
NEXT_PUBLIC_CONTENTSTACK_DELIVERY_TOKEN=your_delivery_token_here

# Management Token (required for creating/updating content)
NEXT_PUBLIC_CONTENTSTACK_MANAGEMENT_TOKEN=your_management_token_here

# Region: na (North America), eu (Europe), azure-na, azure-eu
NEXT_PUBLIC_CONTENTSTACK_REGION=na

# Environment: development, staging, production
NEXT_PUBLIC_CONTENTSTACK_ENVIRONMENT=development

# Enable Contentstack (set to 'true' to use CMS, 'false' for mock data)
NEXT_PUBLIC_USE_CONTENTSTACK=false

# ============================================================
# MANAGER AUTHENTICATION
# ============================================================
# Manager portal password (defaults to Test@123 if not set)
NEXT_PUBLIC_MANAGER_PASSWORD=your_manager_password
# .env.local
NEXT_PUBLIC_CONTENTSTACK_PREVIEW_TOKEN=your_preview_token

# ============================================================
# FOR SETUP SCRIPT ONLY (Not used in Next.js app)
# ============================================================
CONTENTSTACK_STACK_API_KEY=your_api_key_here
CONTENTSTACK_MANAGEMENT_TOKEN=your_management_token_here
CONTENTSTACK_REGION=na
CONTENTSTACK_ENVIRONMENT=development

# ============================================================
# PERSONALIZE CONFIGURATION
# ============================================================
# Project UID from Contentstack Personalize
NEXT_PUBLIC_CONTENTSTACK_PERSONALIZE_PROJECT_UID=your_personalize_project_uid

# ============================================================
# CHALLENGE PRO - Personalize API Authentication
# ============================================================
# For Personalize Management API (dynamic experience/audience creation)

# REQUIRED: Access Token for Personalize API
# Get this by authenticating via OAuth or from Contentstack support
# Token is valid for 60 minutes
CONTENTSTACK_ACCESS_TOKEN=your_access_token

# REQUIRED: Organization UID
CONTENTSTACK_ORG_ID=your_organization_uid

# NOTE: Environment UID is auto-fetched using NEXT_PUBLIC_CONTENTSTACK_ENVIRONMENT name
# No need to set CONTENTSTACK_ENVIRONMENT_UID manually

# ============================================================
# OPTIONAL: Token Refresh Configuration
# ============================================================
# If access token expires, these are used to automatically refresh it
# Without these, you'll need to manually update CONTENTSTACK_ACCESS_TOKEN

# Refresh Token (from OAuth response)
CONTENTSTACK_REFRESH_TOKEN=your_refresh_token

# OAuth Client Credentials (for refresh token grant)
CONTENTSTACK_CLIENT_ID=your_client_id
CONTENTSTACK_CLIENT_SECRET=your_client_secret

# ============================================================
# TOKEN REFRESH BEHAVIOR
# ============================================================
# 1. Uses CONTENTSTACK_ACCESS_TOKEN directly
# 2. If API returns 401/403, attempts refresh using:
#    - CONTENTSTACK_REFRESH_TOKEN + CLIENT_ID + CLIENT_SECRET
# 3. Refreshed token is cached in memory until server restart
# 4. Console will log new token - update .env.local to persist

# ============================================================
# SLACK INTEGRATION (Contentstack Automate / Webhooks)
# ============================================================
# Slack webhook URL for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Slack channel ID for notifications
SLACK_CHANNEL_ID=YOUR_CHANNEL_ID

# ============================================================
# SETUP INSTRUCTIONS
# ============================================================
#
# 1. Get your Delivery Token:
#    - Log into Contentstack
#    - Go to Settings → Tokens → Delivery Tokens
#    - Create a new token or copy an existing one
#    - Paste it above
#
# 2. Run the setup script:
#    npm run setup:contentstack
#
# 3. Enable Contentstack:
#    Set NEXT_PUBLIC_USE_CONTENTSTACK=true
#
# 4. Restart development server:
#    npm run dev
#
# For more details, see CONTENTSTACK_SETUP.md
#

